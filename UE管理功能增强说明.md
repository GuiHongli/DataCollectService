# UE管理功能增强说明

## 功能概述

本次功能增强为UE管理页面添加了两个新字段：`品牌`和`端口号`，用于更好地标识和管理UE设备信息。

## 新增功能

### 1. 数据库字段扩展

在`ue`表中新增了两个字段：

- `brand` (varchar(50)): UE品牌
- `port` (varchar(10)): UE端口号，默认值为'0'

同时添加了相应的索引以提高查询性能：
- `idx_brand` (brand)
- `idx_port` (port)

### 2. 品牌枚举定义

创建了`UeBrandEnum`枚举类，定义了8个固定的品牌值：

| 品牌代码 | 品牌名称 | 说明 |
|----------|----------|------|
| xiaomi | 小米 | 小米品牌设备 |
| oppo | OPPO | OPPO品牌设备 |
| vivo | vivo | vivo品牌设备 |
| samsung | 三星 | 三星品牌设备 |
| honor | 荣耀 | 荣耀品牌设备 |
| huawei | 华为 | 华为品牌设备 |
| apple | 苹果 | 苹果品牌设备 |
| Huawei-Hisilicon | 华为海思 | 华为海思芯片设备 |

### 3. 后端代码更新

#### 3.1 实体类更新
- `Ue.java`: 新增`brand`和`port`字段

#### 3.2 枚举类新增
- `UeBrandEnum.java`: 定义品牌枚举，包含代码和名称映射

#### 3.3 控制器更新
- `UeController.java`: 新增`/ue/brands`接口，用于获取品牌列表

#### 3.4 服务层更新
- `UeServiceImpl.java`: 更新查询逻辑，支持品牌名称显示
- `UeDTO.java`: 新增`brand`、`brandName`和`port`字段

### 4. 前端界面更新

#### 4.1 UE管理页面
在`DataCollectFront/src/views/ue/index.vue`中新增了：

- **品牌列**: 在表格中显示UE的品牌信息
- **端口列**: 在表格中显示UE的端口号
- **品牌选择器**: 在新增/编辑对话框中提供品牌下拉选择
- **端口输入框**: 在新增/编辑对话框中提供端口号输入

#### 4.2 显示效果
- 品牌字段：如果已配置则显示品牌名称，否则显示"未配置"
- 端口字段：如果已配置则显示端口号，否则显示"0"

## 使用说明

### 1. 新增UE

1. 在UE管理页面点击"新增UE"按钮
2. 填写基本信息（UE名称、UE ID、用途、网络类型）
3. **选择品牌**: 从下拉列表中选择8个固定品牌之一
4. **输入端口号**: 输入端口号，默认为'0'
5. 填写描述和状态
6. 点击"确定"保存

### 2. 编辑UE

1. 在UE列表中找到要编辑的UE
2. 点击"编辑"按钮
3. 修改品牌和端口号信息
4. 点击"确定"保存修改

### 3. 查看UE信息

在UE列表中可以直接查看：
- 品牌列：显示UE的品牌名称
- 端口列：显示UE的端口号

## 技术实现

### 1. 数据库迁移
执行SQL脚本：`src/main/resources/db/add_ue_brand_and_port.sql`

### 2. 代码变更
- 实体类：`Ue.java`
- 枚举类：`UeBrandEnum.java`
- 控制器：`UeController.java`
- 服务层：`UeServiceImpl.java`、`UeDTO.java`
- 前端页面：`index.vue`

### 3. API接口

#### 获取品牌列表
```
GET /api/ue/brands
```

响应示例：
```json
{
  "code": 200,
  "message": "操作成功",
  "data": [
    {
      "code": "xiaomi",
      "name": "小米"
    },
    {
      "code": "oppo",
      "name": "OPPO"
    },
    // ... 其他品牌
  ]
}
```

## 业务价值

### 1. 设备标识
- 通过品牌信息可以快速识别UE设备的厂商
- 通过端口号可以区分同一品牌下的不同设备

### 2. 设备管理
- 可以根据品牌进行设备分类管理
- 可以根据端口号进行设备定位和配置

### 3. 测试场景
- 支持针对不同品牌设备的特定测试
- 支持多设备并发测试时的端口分配

## 兼容性说明

### 1. 向后兼容
- 新增字段允许为null，不会影响现有数据
- 现有UE数据保持不变，品牌字段为null，端口字段为0

### 2. 数据迁移
- 现有UE记录的brand字段默认为null
- 现有UE记录的port字段默认为0

## 验证规则

### 1. 品牌字段
- 可选字段，可以为空
- 如果填写，必须从8个固定品牌中选择
- 前端通过下拉选择器限制输入

### 2. 端口字段
- 可选字段，默认为'0'
- 类型为字符串，支持任意文本输入
- 前端通过文本输入框进行输入

## 注意事项

1. **品牌选择**: 只能从预定义的8个品牌中选择，不支持自定义品牌
2. **端口格式**: 端口号为字符串类型，支持任意文本输入
3. **默认值**: 新增UE时，端口号默认为'0'，品牌默认为空
4. **显示格式**: 品牌显示为中文名称，便于用户理解

## 后续优化建议

1. **品牌扩展**: 支持添加更多品牌选项
2. **端口管理**: 支持端口冲突检测和自动分配
3. **批量操作**: 支持批量设置品牌和端口
4. **统计分析**: 添加按品牌统计UE数量的功能
5. **搜索过滤**: 支持按品牌和端口进行搜索过滤
